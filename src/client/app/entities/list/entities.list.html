<div class="action-bar" flex layout="row" layout-align="space-between">
  <div class="action-bar" ng-show="vm.displayActions"  flex layout="row" layout-align="end center">
    <md-button class="md-fab" ng-click="vm.displayActions=false" aria-label="filter entities">
      <md-icon md-svg-icon="search"></md-icon>
    </md-button>
  </div>
</div>

<div layout="row" ng-if="!vm.displayActions" flex>
  <md-input-container flex>
    <md-icon class="search__input-contrainer__icon" md-svg-icon="clear" ng-click="vm.displayActions=true"></md-icon>
    <label>Search    </label>
    <input ng-model="vm.search" title="filter entities" auto-focus ng-keydown="vm.removeOnBackspace($event)">
  </md-input-container>
</div>

<md-card flex>
  <md-card-header>
    <md-card-header-text>
      <span class="md-title">Spheres</span>
      <span class="md-subhead"></span>
    </md-card-header-text>
  </md-card-header>
  <md-card-content>
    <md-list>
      <md-list-item
          ng-repeat="sphere in vm.spheres| filter:{$:vm.search}" class="member-list__item">
          <div flex layout="row" layout-align="space-between" class="member-list__name">
            <p flex="20" class="md-subhead">{{sphere.name}}</p>
            <p flex>{{sphere.description}}</p>
            <div class="sphere" style="background-color: {{sphere.color}}"></div>
          </div>
        <md-divider md-inset></md-divider>
      </md-list-item>
    </md-list>
  </md-card-content>
</md-card>

<md-card flex>
  <md-card-header>
    <md-card-header-text>
      <span class="md-title">Capacit√©s</span>
      <span class="md-subhead"></span>
    </md-card-header-text>
  </md-card-header>
  <md-card-content>
    <md-list>
      <md-list-item
          ng-repeat="capacity in vm.capacities | filter:{$:vm.search}" class="member-list__item">
          <div flex layout="row" layout-align="space-between" class="member-list__name">
            <p flex="20" class="md-subhead">{{capacity.name}}</p>
            <p flex layout-align="start center">{{capacity.description}}</p>
            <div class="sphere" style="background-color:{{capacity.sphere.color}}"></div>
          </div>
        <md-divider md-inset></md-divider>
      </md-list-item>
    </md-list>
  </md-card-content>
</md-card>

<md-card flex>
  <md-card-header>
    <md-card-header-text>
      <span class="md-title">Cartes</span>
      <span class="md-subhead"></span>
    </md-card-header-text>
  </md-card-header>
  <md-card-content>
    <md-list>
      <md-list-item
          ng-repeat="card in vm.cards | filter:{$:vm.search}" class="member-list__item">
          <div flex layout="row" layout-align="start center" class="member-list__name">
            <p flex="5">{{card.avatar}}</p>
            <p class="md-subhead" flex="15">{{card.name}}</p>
            <p flex="35">{{card.description}}</p>
            <div flex="15" layout="row" layout-align="center center">
              <p ng-repeat="capacity in card.capacities"> {{capacity.name}}<span ng-if="!$last">,&nbsp;</span></p>
            </div>
              <p flex="15" flex layout="row" layout-align="center center">{{card.attributs.attaque}} /  {{card.attributs.defense}}</p>
            <div flex layout="row" layout-align="end center">
              <div ng-repeat="sphere in card.spheres">
                <div class="sphere" style="background-color:{{sphere.color}}"></div>
              </div>
            </div>
          </div>
        <md-divider md-inset></md-divider>
      </md-list-item>
    </md-list>
  </md-card-content>
</md-card>
